## Сервер мониторинга. Prometheus + Grafana + Loki в Docker.

### Общая информация
Сервер мониторинга создается в `Proxmox` с использованием `Terraform`. На сервере устанавливается `Docker` через `Ansible` роль. В `Docker` с помощью `docker compose` устанавливаются 3 сервиса. `Prometheus` - для сбора метрик, `Loki` - для централизованного сбора логов и `Grafana` - для визульного отображения метрик и логов. В качестве `Loki` агента используется `promtail`, а в качестве `Prometheus` экспортера используется `node_exporter`. Оба ставятся на любой линукс хост как systemd юниты через соответствующие роли `ansible`. 

### Ansible
В директории `ansible` есть 3 роли для установки `docker`, `node_exporter` и `promtail`. 

### Terraform
Для создания виртуальной машины в `proxmox` используется провайдер `Telmate/proxmox`. В файле `variable.tf` необходимо задать пароль для доступа к `proxmox` и ssh-ключ для доступа к виртуалке. Подразумевается, что у вас есть готовый шаблон машины.
